<!DOCTYPE html>
<html>
<head>
    <meta http-eqiv='content-type' content='text/html;charset=utf-8'>
    <title>local.conf</title>
    <link rel=stylesheet href="http://jashkenas.github.com/docco/resources/docco.css">
</head>
<body>
<div id=container>
    <div id=background></div>
    <table cellspacing=0 cellpadding=0>
    <thead>
      <tr>
        <th class=docs><h1>local.conf</h1></th>
        <th class=code></th>
      </tr>
    </thead>
    <tbody>
        <tr><td class='docs'><?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.11: http://docutils.sourceforge.net/" />
<title></title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7614 2013-02-21 15:55:51Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document">


<p>Sample <tt class="docutils literal">local.conf</tt> for user-configurable variables in <tt class="docutils literal">stack.sh</tt>
NOTE: Copy this file to the root <tt class="docutils literal">devstack</tt> directory for it to
work properly.</p>
</td><td class=code><div class=highlight><pre>


</pre></div></td></tr><tr><td class=docs>
<p><tt class="docutils literal">local.conf</tt> is a user-maintained setings file that is sourced from <tt class="docutils literal">stackrc</tt>.
This gives it the ability to override any variables set in <tt class="docutils literal">stackrc</tt>.
Also, most of the settings in <tt class="docutils literal">stack.sh</tt> are written to only be set if no
value has already been set; this lets <tt class="docutils literal">local.conf</tt> effectively override the
default values.</p>
</td><td class=code><div class=highlight><pre>

</pre></div></td></tr><tr><td class=docs>
<p>This is a collection of some of the settings we have found to be useful
in our DevStack development environments. Additional settings are described
in <a class="reference external" href="http://devstack.org/local.conf.html">http://devstack.org/local.conf.html</a>
These should be considered as samples and are unsupported DevStack code.</p>
</td><td class=code><div class=highlight><pre>

</pre></div></td></tr><tr><td class=docs>
<p>The <tt class="docutils literal">localrc</tt> section replaces the old <tt class="docutils literal">localrc</tt> configuration file.
Note that if <tt class="docutils literal">localrc</tt> is present it will be used in favor of this section.</p>
</td><td class=code><div class=highlight><pre>
<span class="o">[[</span><span class="nb">local</span>|localrc<span class="o">]]</span>

</pre></div></td></tr><tr><td class=docs>
<div class="section" id="minimal-contents">
<h1>Minimal Contents</h1>
</td><td class=code><div class=highlight><pre>

</pre></div></td></tr><tr><td class=docs>
<p>While <tt class="docutils literal">stack.sh</tt> is happy to run without <tt class="docutils literal">localrc</tt>, devlife is better when
there are a few minimal variables set:</p>
</td><td class=code><div class=highlight><pre>

</pre></div></td></tr><tr><td class=docs>
<p>If the <tt class="docutils literal">SERVICE_TOKEN</tt> and <tt class="docutils literal">*_PASSWORD</tt> variables are not set
here you will be prompted to enter values for them by <tt class="docutils literal">stack.sh</tt>
and they will be added to <tt class="docutils literal">local.conf</tt>.</p>
</td><td class=code><div class=highlight><pre>
<span class="nv">SERVICE_TOKEN</span><span class="o">=</span>azertytoken
<span class="nv">ADMIN_PASSWORD</span><span class="o">=</span>nomoresecrete
<span class="nv">MYSQL_PASSWORD</span><span class="o">=</span>stackdb
<span class="nv">RABBIT_PASSWORD</span><span class="o">=</span>stackqueue
<span class="nv">SERVICE_PASSWORD</span><span class="o">=</span><span class="nv">$ADMIN_PASSWORD</span>

</pre></div></td></tr><tr><td class=docs>
<p><tt class="docutils literal">HOST_IP</tt> should be set manually for best results if the NIC configuration
of the host is unusual, i.e. <tt class="docutils literal">eth1</tt> has the default route but <tt class="docutils literal">eth0</tt> is the
public interface.  It is auto-detected in <tt class="docutils literal">stack.sh</tt> but often is indeterminate
on later runs due to the IP moving from an Ethernet interface to a bridge on
the host. Setting it here also makes it available for <tt class="docutils literal">openrc</tt> to include
when setting <tt class="docutils literal">OS_AUTH_URL</tt>.
<tt class="docutils literal">HOST_IP</tt> is not set by default.</p>
</td><td class=code><div class=highlight><pre>
<span class="c">#HOST_IP=w.x.y.z</span>


</pre></div></td></tr><tr><td class=docs>
</div>
<div class="section" id="logging">
<h1>Logging</h1>
</td><td class=code><div class=highlight><pre>

</pre></div></td></tr><tr><td class=docs>
<p>By default <tt class="docutils literal">stack.sh</tt> output only goes to the terminal where it runs.  It can
be configured to additionally log to a file by setting <tt class="docutils literal">LOGFILE</tt> to the full
path of the destination log file.  A timestamp will be appended to the given name.</p>
</td><td class=code><div class=highlight><pre>
<span class="nv">LOGFILE</span><span class="o">=</span><span class="nv">$DEST</span>/logs/stack.sh.log

</pre></div></td></tr><tr><td class=docs>
<p>Old log files are automatically removed after 7 days to keep things neat.  Change
the number of days by setting <tt class="docutils literal">LOGDAYS</tt>.</p>
</td><td class=code><div class=highlight><pre>
<span class="nv">LOGDAYS</span><span class="o">=</span>2

</pre></div></td></tr><tr><td class=docs>
<p>Nova logs will be colorized if <tt class="docutils literal">SYSLOG</tt> is not set; turn this off by setting
<tt class="docutils literal">LOG_COLOR</tt> false.</p>
</td><td class=code><div class=highlight><pre>
<span class="c">#LOG_COLOR=False</span>


</pre></div></td></tr><tr><td class=docs>
</div>
<div class="section" id="using-milestone-proposed-branches">
<h1>Using milestone-proposed branches</h1>
</td><td class=code><div class=highlight><pre>

</pre></div></td></tr><tr><td class=docs>
<p>Uncomment these to grab the milestone-proposed branches from the repos:</p>
</td><td class=code><div class=highlight><pre>
<span class="c">#CINDER_BRANCH=milestone-proposed</span>
<span class="c">#GLANCE_BRANCH=milestone-proposed</span>
<span class="c">#HORIZON_BRANCH=milestone-proposed</span>
<span class="c">#KEYSTONE_BRANCH=milestone-proposed</span>
<span class="c">#KEYSTONECLIENT_BRANCH=milestone-proposed</span>
<span class="c">#NOVA_BRANCH=milestone-proposed</span>
<span class="c">#NOVACLIENT_BRANCH=milestone-proposed</span>
<span class="c">#NEUTRON_BRANCH=milestone-proposed</span>
<span class="c">#SWIFT_BRANCH=milestone-proposed</span>


</pre></div></td></tr><tr><td class=docs>
</div>
<div class="section" id="swift">
<h1>Swift</h1>
</td><td class=code><div class=highlight><pre>

</pre></div></td></tr><tr><td class=docs>
<p>Swift is now used as the back-end for the S3-like object store. If Nova's
objectstore (<tt class="docutils literal"><span class="pre">n-obj</span></tt> in <tt class="docutils literal">ENABLED_SERVICES</tt>) is enabled, it will NOT
run if Swift is enabled. Setting the hash value is required and you will
be prompted for it if Swift is enabled so just set it to something already:</p>
</td><td class=code><div class=highlight><pre>
<span class="nv">SWIFT_HASH</span><span class="o">=</span>66a3d6b56c1f479c8b4e70ab5c2000f5

</pre></div></td></tr><tr><td class=docs>
<p>For development purposes the default of 3 replicas is usually not required.
Set this to 1 to save some resources:</p>
</td><td class=code><div class=highlight><pre>
<span class="nv">SWIFT_REPLICAS</span><span class="o">=</span>1

</pre></div></td></tr><tr><td class=docs>
<p>The data for Swift is stored by default in (<tt class="docutils literal">$DEST/data/swift</tt>),
or (<tt class="docutils literal">$DATA_DIR/swift</tt>) if <tt class="docutils literal">DATA_DIR</tt> has been set, and can be
moved by setting <tt class="docutils literal">SWIFT_DATA_DIR</tt>. The directory will be created
if it does not exist.</p>
</td><td class=code><div class=highlight><pre>
<span class="nv">SWIFT_DATA_DIR</span><span class="o">=</span><span class="nv">$DEST</span>/data


</td><td class=code><div class=highlight><pre>
</pre></div></td></tr><tr><td class=docs>
</pre></div></td></tr><tr><td class=docs>
</td><td class=code><div class=highlight><pre>

</pre></div></td></tr><tr><td class=docs>
</div>
</div>
</body>
</html></td><td class='code'></td></tr>
    </tbody>
    </table>
</div>
</body>
</html>
